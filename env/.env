# PostgreSQL CDC Environment Configuration

# Rust Environment
RUST_LOG=info
RUST_BACKTRACE=1

# Source PostgreSQL Database Configuration
# Use either CDC_SOURCE_CONNECTION_STRING or the individual parameters below
CDC_SOURCE_CONNECTION_STRING=postgresql://postgres:test.123@postgres:5432/postgres?replication=database

# Destination Database Configuration
CDC_DEST_TYPE=MySQL
CDC_DEST_URI=mysql://root:test.123@mysql:3306/cdc_db

# Schema Mapping Configuration
# Maps PostgreSQL schemas to MySQL databases
# Format: source_schema:dest_database,source_schema2:dest_database2
# Example: public:cdc_db maps PostgreSQL "public" schema to MySQL "cdc_db" database
CDC_SCHEMA_MAPPING=public:cdc_db

# CDC-Specific Configuration
CDC_REPLICATION_SLOT=cdc_slot
CDC_PUBLICATION=cdc_pub
CDC_PROTOCOL_VERSION=3
CDC_BINARY_FORMAT=true
CDC_STREAMING=true
CDC_BUFFER_SIZE=1000
CDC_COMMIT_BATCH_SIZE=3000

# Timeout Configuration (in seconds)
CDC_CONNECTION_TIMEOUT=30
CDC_QUERY_TIMEOUT=10

# LSN Tracking and Position Persistence
# File path for persisting the last committed LSN for graceful restarts
# The .metadata extension will be added automatically if not present
CDC_LAST_LSN_FILE=./pg2any_last_lsn.metadata

# Monitoring Configuration
METRICS_PORT=8080
